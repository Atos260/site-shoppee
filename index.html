<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ofertas Imperd√≠veis | Atos.Promos</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti"></script>

<!-- Fonte caligr√°fica -->
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

<style>
.product-card { transition: all .3s ease; }
.product-card:hover { transform: translateY(-5px); }

.whatsapp-button, .chatbot-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: 15px;
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  cursor: pointer;
}

.whatsapp-button { background: #25d366; }
.chatbot-button { background: #f59e0b; right: 80px; }

#chatbot-window {
  position: fixed;
  bottom: 80px;
  right: 80px;
  width: 300px;
  max-height: 400px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;
}

#chatbot-header {
  background: #f59e0b;
  color: white;
  padding: 10px;
  font-weight: bold;
  text-align: center;
}

#chatbot-messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  font-size: 14px;
}

#chatbot-input {
  display: flex;
  border-top: 1px solid #ddd;
}

#chatbot-input input {
  flex: 1;
  border: none;
  padding: 8px;
  outline: none;
}

#chatbot-input button {
  background: #f59e0b;
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
}

#suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border-radius: 0 0 8px 8px;
  box-shadow: 0 8px 20px rgba(0,0,0,.1);
  z-index: 50;
}
#suggestions div {
  padding: 10px;
  cursor: pointer;
}
#suggestions div:hover {
  background: #f3f3f3;
}
</style>
</head>

<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

<header class="bg-orange-500 sticky top-0 z-50 shadow-lg">
<div class="container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between gap-4">

<div onclick="goHome()" class="flex items-center gap-2 text-white font-bold text-2xl cursor-pointer">
<i data-lucide="shopping-bag"></i>
<span>Atos.<span class="text-yellow-300">Promos</span></span>
</div>

<div class="relative w-full max-w-xl">
<input id="searchInput" type="text" placeholder="Buscar produto..."
class="w-full pl-10 pr-20 py-3 rounded-lg outline-none">
<i data-lucide="search" class="absolute left-3 top-3.5 text-gray-400"></i>

<button onclick="searchProducts()"
class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-yellow-400 px-4 py-2 rounded-lg font-bold">
üîç
</button>

<div id="suggestions" class="hidden"></div>
</div>

<button onclick="goHome()" class="bg-yellow-400 px-4 py-2 rounded-lg font-bold text-white hover:bg-yellow-500">
Home
</button>

</div>
</header>

<main class="container mx-auto px-4 pb-12">
<div class="text-center my-8">
<p class="text-2xl text-gray-700" style="font-family: 'Dancing Script', cursive;">
‚ÄúTudo posso naquele que me fortalece.‚Äù
</p>
<span class="text-sm text-gray-500">Filipenses 4:13</span>
</div>

<div id="productsGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
</main>

<footer class="bg-white border-t py-6 text-center text-sm text-gray-500">
¬© 2024 Atos.Promos ‚Äî Sele√ß√£o de ofertas independentes
</footer>

<a href="https://wa.me/5533984684394" target="_blank" class="whatsapp-button">
<i data-lucide="message-circle"></i>
</a>

<div class="chatbot-button" onclick="toggleChatbot()">
<i data-lucide="message-square"></i>
</div>

<div id="chatbot-window" class="flex flex-col">
<div id="chatbot-header">Atendimento Autom√°tico</div>
<div id="chatbot-messages"></div>
<div id="chatbot-input">
<input id="chatbotText" type="text" placeholder="Digite sua pergunta...">
<button onclick="sendChat()">Enviar</button>
</div>
</div>

<script>
lucide.createIcons();

// ---------- PRODUTOS ----------
const productList = [
{
id:1,
name:"Deo Col√¥nia Cebolinha 25ml - Jequiti",
price:21.90,
originalPrice:21.90,
image:"https://down-br.img.susercontent.com/file/sg-11134201-7rdxy-mc150e30sfgu96_tn",
link:"https://s.shopee.com.br/2qOUuiGYkN",
category:"Beleza",
rating:4.9,
sold:"90k",
keywords:["perfume","col√¥nia","cebolinha","cheiro","infantil"]
},
{
id:2,
name:"Varal De Ch√£o Torre 3 Andares Retr√°til",
price:69.99,
originalPrice:149.90,
image:"https://down-br.img.susercontent.com/file/br-11134207-7r98o-m7z8j51xhnu92f@resize_w450_nl.webp",
link:"https://s.shopee.com.br/40aSDKw4Ul",
category:"Casa",
rating:4.8,
sold:"10k",
keywords:["varal","roupa","lavanderia","secagem"]
},
{
id:3,
name:"Cal√ßa Pantalona Alfaiataria Premium",
price:34.80,
originalPrice:129.90,
image:"https://down-bs-br.img.susercontent.com/br-11134207-7r98o-ma4qg4onmdjb35.webp",
link:"https://s.shopee.com.br/2Vlehf5Apa",
category:"Moda",
rating:4.7,
sold:"100k",
keywords:["cal√ßa","pantalona","moda","roupa feminina"]
}
];

const grid = document.getElementById("productsGrid");
const searchInput = document.getElementById("searchInput");
const suggestions = document.getElementById("suggestions");

function render(list){
grid.innerHTML="";
list.forEach(p=>{
const discount=Math.round(((p.originalPrice-p.price)/p.originalPrice)*100);
grid.innerHTML+=`
<a href="${p.link}" target="_blank"
class="product-card bg-white rounded-lg shadow p-3 flex flex-col">
<span class="text-xs bg-yellow-400 self-end px-2 rounded">-${discount}%</span>
<img src="${p.image}" class="rounded mb-2 aspect-square object-cover">
<h3 class="text-sm font-semibold">${p.name}</h3>
<div class="text-xs text-gray-500">‚≠ê ${p.rating} ‚Ä¢ ${p.sold}</div>
<div class="text-xs line-through text-gray-400">R$ ${p.originalPrice}</div>
<div class="font-bold text-orange-500">R$ ${p.price}</div>
</a>`;});
}

function searchProducts(){
const term=searchInput.value.toLowerCase();
const filtered=productList.filter(p=>
p.name.toLowerCase().includes(term) ||
p.category.toLowerCase().includes(term) ||
p.keywords.some(k=>k.includes(term))
);
render(filtered);
confetti({particleCount:50,spread:70});
suggestions.classList.add("hidden");
}

searchInput.addEventListener("input",()=>{
const term=searchInput.value.toLowerCase();
if(!term){ suggestions.classList.add("hidden"); return; }

let allWords=new Set();
productList.forEach(p=>{
p.keywords.forEach(k=>{
if(k.includes(term)) allWords.add(k);
});
});

suggestions.innerHTML="";
[...allWords].slice(0,5).forEach(w=>{
const div=document.createElement("div");
div.textContent=w;
div.onclick=()=>{ searchInput.value=w; searchProducts(); };
suggestions.appendChild(div);
});
suggestions.classList.toggle("hidden", allWords.size===0);
});

function goHome(){
searchInput.value="";
render(productList);
window.scrollTo({top:0,behavior:"smooth"});
}

render(productList);

// ---------- CHATBOT INTELIGENTE ----------
const chatbotWindow = document.getElementById("chatbot-window");
const chatbotMessages = document.getElementById("chatbot-messages");
const chatbotText = document.getElementById("chatbotText");

function toggleChatbot(){
  chatbotWindow.style.display = chatbotWindow.style.display === "flex" ? "none" : "flex";
}

function sendChat(){
  const msg = chatbotText.value.trim();
  if(!msg) return;
  appendMessage("Voc√™: " + msg);
  chatbotText.value = "";
  let reply = generateReply(msg.toLowerCase());
  appendMessage("Bot: " + reply);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

function appendMessage(msg){
  const div = document.createElement("div");
  div.textContent = msg;
  div.classList.add("mb-2");
  chatbotMessages.appendChild(div);
}

function generateReply(msg){
  // Frases padr√µes
  const greetings = ["ol√°","oi","bom dia","boa tarde","boa noite"];
  for(const g of greetings){
    if(msg.includes(g)) return "Ol√°! Que bom te ver aqui üòÑ Posso te ajudar a encontrar alguma oferta?";
  }

  // Procurar produto pelo nome ou keywords
  for(const p of productList){
    if(msg.includes(p.name.toLowerCase()) || p.keywords.some(k=>msg.includes(k))){
      return `Ah, temos o produto "${p.name}" dispon√≠vel por R$${p.price.toFixed(2)}! Voc√™ pode conferir clicando no card do produto üòâ`;
    }
  }

  // Sugest√£o autom√°tica baseada em categoria
  for(const p of productList){
    if(msg.includes(p.category.toLowerCase())){
      return `Voc√™ est√° interessado em ${p.category}? Olha esse produto que temos: "${p.name}" por R$${p.price.toFixed(2)}!`;
    }
  }

  // Mensagens gen√©ricas
  const fallback = [
    "Desculpe, n√£o entendi muito bem üòÖ. Quer que eu sugira algum produto?",
    "Hum... n√£o entendi. Voc√™ quer ver alguma oferta especial?",
    "Estou aqui para ajudar! Pode me dizer o nome de um produto ou categoria que voc√™ procura?"
  ];
  return fallback[Math.floor(Math.random()*fallback.length)];
}
</script>

</body>
</html>












